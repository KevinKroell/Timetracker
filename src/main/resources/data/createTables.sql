CREATE TABLE IF NOT EXISTS customer( c_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,company VARCHAR(50) NOT NULL, contact VARCHAR(50),phone VARCHAR(30),mobile VARCHAR(30),street VARCHAR(50),house_number VARCHAR(20),zip INT,city VARCHAR(50),country VARCHAR(50));

CREATE TABLE IF NOT EXISTS service(s_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY, name VARCHAR(255) NOT NULL, internal_rate NUMERIC,external_rate NUMERIC);

CREATE TABLE IF NOT EXISTS project(p_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY, name VARCHAR(255) NOT NULL, start_date DATE,end_date DATE,active BOOLEAN,c_id INT,FOREIGN KEY(c_id) REFERENCES customer(c_id));

CREATE TABLE IF NOT EXISTS users(u_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY, username VARCHAR(50),password VARCHAR(512),email VARCHAR(50),security_question VARCHAR(255),answer VARCHAR(255));

CREATE TABLE IF NOT EXISTS hour_entry(h_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,entry_date DATE NOT NULL, description VARCHAR(255),start_time TIMESTAMP NOT NULL,end_time TIMESTAMP NOT NULL, time_minutes INT, pause_minutes INT, p_id INT, s_id INT, u_id INT, FOREIGN KEY(p_id) REFERENCES project(p_id), FOREIGN KEY(s_id) REFERENCES service(s_id), FOREIGN KEY(u_id) REFERENCES users(u_id));

CREATE TABLE IF NOT EXISTS assign_project_user(assign_id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,p_id INT,u_id INT,FOREIGN KEY(p_id) REFERENCES project(p_id),FOREIGN KEY(u_id) REFERENCES users(u_id));